<th:block th:fragment="indexItems (indexItems)">

<div th:each="item: ${indexItems}" th:class="${'col-md-8 mb-4 index-item-' + item.id}">
  <div class="card mb-8 shadow-sm">
    <div class="card-body" >
        <div class="d-flex flex-column justify-content-between align-items-between">
            <div class="d-flex justify-content-center mb-3">
                <img class="bd-placeholder-img mr-3" th:id="|index-item-image-${item.id}|" 
                     th:src="${item.indexImage} ? '/img/index/' + ${item.indexImage.name}: '/'" 
                     width="60px" height="60px" >
                <div class="custom-file">
                    <input type="file" accept="image/*" class="custom-file-input" 
                           th:onchange="|index.uploadIndexItemImage(event, ${item.id})|"
                           id="indexImage" name="files" aria-describedby="fileHelp">
                    <label class="custom-file-label" for="files">Выберите файл</label>
                </div>
            </div>
            <button class="btn btn-outline-danger mt-2 mb-3" 
                    th:onclick="|index.deleteIndexItemImage(event, ${item.id})|"
                    >Удалить изображение</button>
            <div class="form-group">
                <label for="text">Название курса/направления/сферы и т.д.</label>
                <textarea type="text" class="form-control" name="text"
                          th:id="|index-item-text-${item.id}|" 
                          th:onchange="|index.onChangeIndexItemUrlOrText(event, ${item.id})|" 
                          th:text="${item.text}" 
                          placeholder="Название"></textarea>
            </div>

            <div class="form-group">
                <label for="url">URL (ссылка) на сферу обучения/курс</label>
                <input type="text" class="form-control" name="url" 
                       th:id="|index-item-url-${item.id}|" 
                       th:onchange="|index.onChangeIndexItemUrlOrText(event, ${item.id})|" 
                               placeholder="URL" th:value="${item.url}">
            </div>
            <div class="col-12 d-flex justify-content-center">
                <button class="btn btn-outline-danger col-3" 
                        th:onclick="|index.deleteIndexItem(event, ${item.id})|">Удалить блок</button>
            </div>
        </div>
    </div>
  </div>
</div>
</th:block>